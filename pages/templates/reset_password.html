{% extends 'base.html' %}

{% block title %}Reset Password - Food Delivery{% endblock %}

{% block content %}
<div class="flex items-center justify-center min-h-[70vh]">
  <div class="bg-[#1c1f25] shadow-lg rounded-2xl p-8 w-full max-w-md">
    <h2 class="text-3xl text-[#66B2FF] font-semibold mb-6 text-center">Reset Password</h2>

    <form method="post" class="space-y-4">
      {% csrf_token %}

      <input
        type="password"
        name="new_password"
        placeholder="New Password"
        class="w-full p-3 rounded-md bg-[#2A2E36] text-[#66B2FF] placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#66B2FF]"
        required
      />

      <input
        type="password"
        name="confirm_password"
        placeholder="Confirm Password"
        class="w-full p-3 rounded-md bg-[#2A2E36] text-[#66B2FF] placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#66B2FF]"
        required
      />

      <button
        type="submit"
        class="w-full py-3 rounded-md bg-[#66B2FF] text-white font-semibold hover:bg-[#559ED9] transition"
      >
        Change Password
      </button>

      {% if success_message %}
        <div class="text-center text-green-500 mt-4">
          {{ success_message }}
        </div>
         <!-- Redirects to login after 3 seconds -->
        <script>
          setTimeout(function() {
            window.location.href = "{% url redirect_url %}";
          }, 3000); 
        </script>
      {% endif %}

      {% if error_message %}
        <div class="text-center text-red-500 mt-4">
          {{ error_message }}
        </div>
      {% endif %}
    </form>
  </div>
</div>
{% endblock %}
